# Apache configuration for Skyputer OFP Ingest endpoint
# Allow Authorization header to be passed to PHP

# Enable rewrite engine (if needed)
<IfModule mod_rewrite.c>
    RewriteEngine On
</IfModule>

# Allow Authorization header to be passed to PHP
# This is needed for Bearer token authentication
<IfModule mod_headers.c>
    SetEnvIf Authorization "(.*)" HTTP_AUTHORIZATION=$1
</IfModule>

# Alternative method for some Apache configurations
RewriteCond %{HTTP:Authorization} ^(.*)
RewriteRule .* - [E=HTTP_AUTHORIZATION:%1]

